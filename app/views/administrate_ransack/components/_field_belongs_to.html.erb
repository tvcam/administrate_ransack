<% if association %>
  <% field_key = model.ransackable_scopes.include?(field) ? field : "#{field}_id_eq" %>
  <% desc = association.klass.method_defined?(:admin_label) ? :admin_label : :to_s %>
  <% collection = association.klass.send(association.klass.respond_to?(:admin_scope) ? :admin_scope : :all) %>

  
  <div class="row  mb-3">
    <%= form.label(label, class: 'pe-0 form-label') %>
    <%= form.collection_select(field_key, collection, :id, desc, { include_blank: true }, { class: 'form-control form-control-sm' }) %>
  </div>
<% end %>
